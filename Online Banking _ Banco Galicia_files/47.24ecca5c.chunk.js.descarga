(this["webpackJsonp@galicia/react"]=this["webpackJsonp@galicia/react"]||[]).push([[47],{532:function(o,i,n){},646:function(o,i,n){"use strict";n.r(i),n.d(i,"PromotionalBanner",(function(){return m}));var e=n(0),t=n.n(e),l=n(14),r=n(4),a=n.n(r),s=n(5),d=(n(532),n(8)),p=n(2),u=n(1),v=n(6),c=n(21);class m extends e.Component{constructor(o){super(o),this.state={componentMapping:this.props.componentMapping||u.ComponentMapping,isFullWidth:!1,fullWidthId:this.props.id,fullWidthClass:null},this.timerRef=t.a.createRef(),this.mainDiv=t.a.createRef()}renderButton(o){var i,n,e,l;const r=(null===(i=this.props)||void 0===i||null===(n=i.appliedCssClassNames)||void 0===n?void 0:n.split(" "))||null,a=(null===r||void 0===r?void 0:r.filter(o=>o.startsWith("button_")).join(" "))||"",{buttonProps:s,type:d}=o;return t.a.createElement(p.a,{className:`btn ${d} ${null===s||void 0===s?void 0:s.buttonColor} ${null===s||void 0===s?void 0:s.alignment} ${a}`,to:null===s||void 0===s?void 0:s.url,target:null===s||void 0===s?void 0:s.target,componentTree:["Banner Promocional",null===(e=this.props)||void 0===e||null===(l=e.promotionalBanner)||void 0===l?void 0:l.title],label:null===s||void 0===s?void 0:s.text},(null===s||void 0===s?void 0:s.iconfont)&&t.a.createElement("i",{className:""+(null===s||void 0===s?void 0:s.iconfont)}),null===s||void 0===s?void 0:s.text)}componentDidMount(){this.mainDiv.current&&(this.mainDiv.current.setAttribute("style",this.props.backgroundStyle),this.deleteBorder());let o=this.props.id;if(this.props.appliedCssClassNames){const i=this.isAppliedCssClassName(this.props.appliedCssClassNames,"pb--container--fullwidth");i&&(o=this.props.id+"--fullwidth",this.setState({isFullWidth:i,fullWidthId:this.props.id+"--fullwidth",fullWidthClass:"pb--container--fullwidth"}))}const{scrollIntoView:i}=Object(c.a)(o,this.props.isInEditor);this.timerRef.current=i()}componentWillUnmount(){this.timerRef.current&&clearTimeout(this.timerRef.current)}isAppliedCssClassName(o,i){return null===o||void 0===o?void 0:o.includes(i)}get coreContainerProps(){var o;let i=this.isAppliedCssClassName(this.props.appliedCssClassNames,"pb--container--fullwidth"),n=i?this.state.fullWidthClass:"pb--container--simple ";return n+=(null===(o=this.context)||void 0===o?void 0:o.isMobile)&&i?"pb--container--fullwidth":"",{className:"promotionalbanner pm-container responsivegrid "+n,id:""+(this.state.fullWidthId||"")}}applyStyle(o,i){var n,e;return null==o.name||null==o.path||(null===(n=this.context)||void 0===n?void 0:n.isMobile)?null!=i.name&&null!=i.path&&(null===(e=this.context)||void 0===e?void 0:e.isMobile)?{backgroundImage:`url(${this.renderImageBackground(i)})`,backgroundSize:"cover",backgroundRepeat:"no-repeat"}:void 0:{backgroundImage:`url(${this.renderImageBackground(o)})`,backgroundSize:"cover",backgroundRepeat:"no-repeat"}}renderImageBackground(o){var i;if(!o)return"";const{renditions:n}=o;let e=[];Array.isArray(n)&&(e=n);let t=e.find(o=>o.includes("Galicia-Mobile.")),l=e.find(o=>o.includes("Galicia-Desktop."));return(null===(i=this.context)||void 0===i?void 0:i.isMobile)&&t?t:l||o.path}renderBorderColor(){const o=this.isAppliedCssClassName(this.props.appliedCssClassNames,"pb-color-border"),i=this.isAppliedCssClassName(this.props.appliedCssClassNames,"pb--container--fullwidth");var n,e,t,l;return o&&i?{border:"2px solid "+(null===(n=this.props)||void 0===n||null===(e=n.promotionalBanner)||void 0===e?void 0:e.borderColor),borderLeft:"none",borderRight:"none"}:o?{border:"2px solid "+(null===(t=this.props)||void 0===t||null===(l=t.promotionalBanner)||void 0===l?void 0:l.borderColor)}:void 0}render(){var o,i,n,e,r,p,u,v,c,m,h,b,g,B,C,f,k,I,y,N,x,M,E,R,w,W,$,A,S,D,P,T,_,z,j,F,G,J,L;const O=null===(o=this.props)||void 0===o||null===(i=o.promotionalBanner)||void 0===i?void 0:i.logoImage.path,H=null===(n=this.props)||void 0===n||null===(e=n.promotionalBanner)||void 0===e||null===(r=e.primaryButton)||void 0===r?void 0:r.url,U=this.applyStyle(null===(p=this.props)||void 0===p||null===(u=p.promotionalBanner)||void 0===u?void 0:u.backgroundImageDesktop,null===(v=this.props)||void 0===v||null===(c=v.promotionalBanner)||void 0===c?void 0:c.backgroundImageMobile);return t.a.createElement("section",Object.assign({},this.coreContainerProps,{style:U?(null===(b=this.context)||void 0===b?void 0:b.isMobile)?{backgroundImage:`url('${this.renderImageBackground(null===(C=this.props)||void 0===C||null===(f=C.promotionalBanner)||void 0===f?void 0:f.backgroundImageMobile)}')`,backgroundSize:"cover",backgroundRepeat:"no-repeat",...this.renderBorderColor()}:{backgroundImage:`url('${this.renderImageBackground(null===(g=this.props)||void 0===g||null===(B=g.promotionalBanner)||void 0===B?void 0:B.backgroundImageDesktop)}')`,backgroundSize:"cover",backgroundRepeat:"no-repeat",...this.renderBorderColor()}:{backgroundColor:null===(m=this.props)||void 0===m||null===(h=m.promotionalBanner)||void 0===h?void 0:h.backgroundColor,...this.renderBorderColor()}}),t.a.createElement("div",{className:"promobanner-container cmp-container g-container "},O&&t.a.createElement("div",{className:"promobanner-image"},t.a.createElement(s.c,{image:null===(k=this.props)||void 0===k||null===(I=k.promotionalBanner)||void 0===I?void 0:I.logoImage})),t.a.createElement("div",{className:`promobanner-text-area ${null===(y=this.props)||void 0===y?void 0:y.promotionalBanner.textAlign} promobanner-description-image ${H?"":"no-button"}`},(null===(N=this.props)||void 0===N||null===(x=N.promotionalBanner)||void 0===x?void 0:x.title)&&t.a.createElement(d.a,{tag:null===(M=this.props)||void 0===M?void 0:M.promotionalBanner.titleType,title:null===(E=this.props)||void 0===E?void 0:E.promotionalBanner.title,className:"heading__title",style:(null===(R=this.props)||void 0===R||null===(w=R.promotionalBanner)||void 0===w?void 0:w.titleColor)?{color:null===(W=this.props)||void 0===W||null===($=W.promotionalBanner)||void 0===$?void 0:$.titleColor}:{},htmlPermission:!0}),(null===(A=this.props)||void 0===A||null===(S=A.promotionalBanner)||void 0===S?void 0:S.description)&&t.a.createElement("div",{className:"promobanner-description rteEditor",dangerouslySetInnerHTML:{__html:a()(null===(D=this.props)||void 0===D||null===(P=D.promotionalBanner)||void 0===P?void 0:P.description,l.a)}})),(null===(T=this.props)||void 0===T||null===(_=T.promotionalBanner)||void 0===_||null===(z=_.primaryButton)||void 0===z?void 0:z.url)&&t.a.createElement("div",{className:"promobanner-button"},(null===(j=this.props)||void 0===j||null===(F=j.promotionalBanner)||void 0===F||null===(G=F.primaryButton)||void 0===G?void 0:G.url)&&this.renderButton({buttonProps:null===(J=this.props)||void 0===J||null===(L=J.promotionalBanner)||void 0===L?void 0:L.primaryButton,type:"primary"}))))}}m.contextType=v.a,i.default=m}}]);
//# sourceMappingURL=47.24ecca5c.chunk.js.map